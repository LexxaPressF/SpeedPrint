(function(){"use strict";var t={7213:function(t,e,a){var r=a(9963),n=a(6252);const s=(0,n._)("div",{class:"level behind_2"},null,-1),i=(0,n._)("div",{class:"level behind_1"},null,-1),o={class:"level rectangle"},l={class:"content"},c=(0,n._)("div",{class:"level front"},null,-1);function u(t,e,a,r,u,d){const p=(0,n.up)("insertion-field"),h=(0,n.up)("indicators-frame"),m=(0,n.up)("keyboard-frame"),g=(0,n.up)("total-indicators");return(0,n.wg)(),(0,n.iD)("div",{class:"main bg app",onMousemove:e[0]||(e[0]=t=>d.move_bg())},[s,i,(0,n._)("div",o,[(0,n._)("div",l,[(0,n.Wm)(p,{class:"element"}),(0,n.Wm)(h,{class:"element"}),(0,n.Wm)(m,{class:"element"}),(0,n.Wm)(g,{class:"element"})]),c])],32)}const d={class:"bg keyboard"};function p(t,e,a,r,s,i){const o=(0,n.up)("simple-keyboard");return(0,n.wg)(),(0,n.iD)("div",d,[(0,n.Wm)(o)])}var h=a(3577);function m(t,e,a,r,s,i){return(0,n.wg)(),(0,n.iD)("div",{class:(0,h.C_)(a.keyboardClass)},null,2)}var g=a(2086),y=a.n(g),f=a(3907),b={name:"SimpleKeyboard",props:{keyboardClass:{default:"simple-keyboard",type:String}},data:()=>({keyboard:null}),computed:{...(0,f.Se)({rus_layout:"getRusLayout",eng_layout:"getEngLayout",lang:"getLang",display:"getDisplay"})},mounted(){let t="english"==this.lang?this.eng_layout:this.rus_layout;this.keyboard=new(y())(this.keyboardClass,{onKeyPress:this.onKeyPress,theme:"hg-theme-default",physicalKeyboardHighlight:!0,physicalKeyboardHighlightPress:!0,physicalKeyboardHighlightTextColor:"red",layout:t,display:this.display})},methods:{onKeyPress(t){"{backspace}"===t?this.$store.dispatch("deleteSymbol"):"{space}"===t?this.$store.dispatch("addSymbol"," "):"{capslock}"===t?this.handleCaps():"{shiftleft}"===t||"{shiftright}"===t?this.handleShift():this.$store.dispatch("addSymbol",t)},handleShift(){this.keyboard.setOptions({layoutName:"shift"}),onkeyup=t=>{t.shiftKey&&this.keyboard.setOptions({layoutName:"default"})}},handleCaps(){let t=this.keyboard.options.layoutName,e="default"===t?"shift":"default";this.keyboard.setOptions({layoutName:e})}},watch:{lang(t){let e="english"==t?this.eng_layout:this.rus_layout;this.keyboard.setOptions({layout:e})}},unmounted(){this.keyboard=null}},T=a(3744);const v=(0,T.Z)(b,[["render",m],["__scopeId","data-v-2d47a8f0"]]);var k=v,_={name:"KeyboardFrame",components:{SimpleKeyboard:k}};const x=(0,T.Z)(_,[["render",p],["__scopeId","data-v-889c72be"]]);var w=x;const C={class:"bg insertion"},P={class:"wrapper"},M=["value"],S={class:"text container"},$={class:"limiter"};function L(t,e,a,r,s,i){return(0,n.wg)(),(0,n.iD)("div",C,[(0,n._)("div",P,[(0,n._)("input",{value:t.inputText,disabled:1,class:"input container"},null,8,M),(0,n._)("div",S,[(0,n._)("div",$,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.arrayToPrint,(t=>((0,n.wg)(),(0,n.iD)("p",{key:t},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t,(t=>((0,n.wg)(),(0,n.iD)("span",{key:t},(0,h.zw)(t),1)))),128))])))),128))])])])])}var A={name:"InsertionField",computed:{...(0,f.Se)({arrayToPrint:"getArrayToPrint",inputText:"getPrintedText",printedArray:"getPrintedArray"})},created(){this.$store.dispatch("updateText","english")},watch:{inputText(){1===this.printedArray.length&&this.$store.dispatch("startTimer"),this.printedArray[this.printedArray.length-1]!==this.arrayToPrint[0][this.printedArray.length-1]&&(this.$store.dispatch("addMistake"),this.$store.dispatch("deleteSymbol")),this.printedArray.length===this.arrayToPrint[0].length&&(this.$store.dispatch("clearPrintedText"),this.$store.dispatch("clearCurrentMistakes"),this.arrayToPrint.shift())}}};const V=(0,T.Z)(A,[["render",L],["__scopeId","data-v-481f9f43"]]);var I=V;const O=t=>((0,n.dD)("data-v-48423db6"),t=t(),(0,n.Cn)(),t),D={class:"bg indicators"},K={class:"wrapper"},F={class:"accuracy"},j=O((()=>(0,n._)("h1",null," Точность ",-1))),H={class:"speed"},W=O((()=>(0,n._)("h1",null," Таймер ",-1))),Z={class:"langSwitcher"},z=O((()=>(0,n._)("span",{class:"slider"},null,-1)));function N(t,e,a,s,i,o){return(0,n.wg)(),(0,n.iD)("div",D,[(0,n._)("div",K,[(0,n._)("div",F,[j,(0,n._)("p",null,(0,h.zw)(t.mistakesCount)+" Ошибок",1)]),(0,n._)("div",H,[W,(0,n._)("p",null,(0,h.zw)(o.secsToTimer),1)]),(0,n._)("label",Z,[(0,n.wy)((0,n._)("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>i.language=t),onKeydown:e[1]||(e[1]=(0,r.D2)((0,r.iM)((()=>{}),["prevent"]),["space"]))},null,544),[[r.e8,i.language]]),z])])])}var q={name:"IndecatorsFrame",data(){return{language:!1}},computed:{...(0,f.Se)({lang:"getLang",mistakesCount:"getCurrentMistakesCount",currentTimerValue:"getCurrentTimerValue"}),secsToTimer(){let t=this.currentTimerValue,e=parseInt(t/60);return t-60*e<10?`${e}:0${t-60*e}`:`${e}:${t-60*e}`}},watch:{language(){this.$store.dispatch("changeLang"),this.$store.dispatch("stopTimer"),this.$store.dispatch("clearCurrentMistakes")}}};const E=(0,T.Z)(q,[["render",N],["__scopeId","data-v-48423db6"]]);var Y=E;const R=t=>((0,n.dD)("data-v-3def397a"),t=t(),(0,n.Cn)(),t),U={class:"bg total_indicators"},X={class:"wrapper"},B={class:"accuracy"},G=R((()=>(0,n._)("h1",null," Показатели последней строки ",-1)));function J(t,e,a,r,s,i){return(0,n.wg)(),(0,n.iD)("div",U,[(0,n._)("div",X,[(0,n._)("div",B,[G,(0,n._)("p",null,"Допущено "+(0,h.zw)(t.mistakesCount)+" ошибок",1),(0,n._)("p",null,"Строка напечатана за "+(0,h.zw)(i.secsToTimer),1)])])])}var Q={name:"TotalIndicators",computed:{...(0,f.Se)({mistakesCount:"getLastMistakesCount",lastTimerValue:"getLastTimerValue"}),secsToTimer(){let t=this.lastTimerValue,e=parseInt(t/60);return t-60*e<10?`${e}:0${t-60*e}`:`${e}:${t-60*e}`}}};const tt=(0,T.Z)(Q,[["render",J],["__scopeId","data-v-3def397a"]]);var et=tt,at={name:"App",components:{TotalIndicators:et,IndicatorsFrame:Y,InsertionField:I,KeyboardFrame:w},data(){return{}},methods:{move_bg(){let t=document.querySelector(".behind_1"),e=document.querySelector(".behind_2"),a=document.querySelector(".front"),r=event.clientX/window.innerWidth,n=event.clientY/window.innerHeight;a.style.transform="translate(-"+70*r+"px, -"+70*n+"px)",t.style.transform="translate(-"+35*r+"px, -"+35*n+"px)",e.style.transform="translate(-"+20*r+"px, -"+20*n+"px)"}}};const rt=(0,T.Z)(at,[["render",u]]);var nt=rt,st={actions:{},mutations:{},state:{rusLayout:{default:["ё 1 2 3 4 5 6 7 8 9 0 - = {backspace}","{tab} й ц у к е н г ш щ з х ъ \\","{capslock} ф ы в а п р о л д ж э {enter}","{shiftleft} я ч с м и т ь б ю . {shiftright}","{space}"],shift:["Ё ! @ # $ % ^ & * ( ) _ + {backspace}","{tab} Й Ц У К Е Н Г Ш Щ З Х Ъ /","{capslock} Ф Ы В А П Р О Л Д Ж Э {enter}","{shiftleft} Я Ч С М И Т Ь Б Ю , {shiftright}","{space}"]},engLayout:{default:["` 1 2 3 4 5 6 7 8 9 0 - = {backspace}","{tab} q w e r t y u i o p [ ] \\","{capslock} a s d f g h j k l ; ' {enter}","{shiftleft} z x c v b n m , . / {shiftright}","{space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {backspace}","{tab} Q W E R T Y U I O P { } |",'{capslock} A S D F G H J K L : " {enter}',"{shiftleft} Z X C V B N M < > ? {shiftright}","{space}"]},display:{"{tab}":"tab ⇥","{backspace}":"backspace ⌫","{enter}":"enter ↵","{capslock}":"caps lock ⇪","{shiftleft}":"shift ⇧","{shiftright}":"shift ⇧","{controlleft}":"ctrl","{controlright}":"ctrl","{space}":" "}},getters:{getRusLayout:t=>t.rusLayout,getEngLayout:t=>t.engLayout,getDisplay:t=>t.display}},it=(a(7658),a(9669)),ot=a.n(it);const lt="https://fish-text.ru/get",ct="https://baconipsum.com/api/";function ut(t,e){let a=t.split(""),r=[];for(let n=0;n<a.length;){if(n+e>a.length){r.push(a.slice(n,a.length));break}{let t=a.lastIndexOf(" ",n+e);r.push(a.slice(n,t+1)),n=t+1}}return r.map((t=>"—"===t?"-":t)).map((t=>"ё"===t||"Ё"===t?"Е":t))}async function dt(){const{data:t}=await ot().get(lt,{params:{type:"paragraph",number:1,format:"text"}});return t.lines=ut(t.text,79),t}async function pt(){const{data:t}=await ot().get(ct,{params:{type:"meat-and-filter",paras:1,format:"text"}}),e={};return e.text=t,e.lines=ut(t,92),e}var ht={actions:{updateText(t,e){t.commit("updateText",e)},addSymbol(t,e){t.commit("addSymbol",e)},deleteSymbol(t){t.commit("deleteSymbol")},clearPrintedText(t){t.commit("clearPrintedText")},changeLang(t){t.commit("changeLang")}},mutations:{updateText(t,e){"russian"===e?dt().then((e=>{t.textToPrint=e.text,t.arrayToPrint=e.lines})):pt().then((e=>{t.textToPrint=e.text,t.arrayToPrint=e.lines}))},addSymbol(t,e){t.printedText+=e,t.printedArray.push(e)},deleteSymbol(t){t.printedText=t.printedText.slice(0,-1),t.printedArray.pop()},clearPrintedText(t){t.printedText="",t.printedArray=[]},changeLang(t){t.lang="english"===t.lang?"russian":"english",this.commit("updateText",t.lang),this.commit("clearPrintedText")}},state:{textToPrint:"",arrayToPrint:[],printedText:"",printedArray:[],lang:"english"},getters:{getTextToPrint:t=>t.textToPrint,getPrintedText:t=>t.printedText,getArrayToPrint:t=>t.arrayToPrint,getPrintedArray:t=>t.printedArray,getLang:t=>t.lang,getAccuracy:t=>t.accuracy,getSpeed:t=>t.speed}},mt={actions:{addMistake(t){t.commit("addMistake")},startTimer(t){t.commit("startTimer")},stopTimer(t){t.commit("stopTimer")},clearCurrentMistakes(t){t.commit("clearCurrentMistakes")}},mutations:{addMistake(t){t.currentMistakesCount+=1},startTimer(t){0===t.currentTimer&&(t.currentTimer=setInterval((()=>t.currentTimerValue+=1),1e3))},stopTimer(t){clearInterval(t.currentTimer),t.currentTimerValue=0},clearCurrentMistakes(t){t.lastMistakesCount=t.currentMistakesCount,t.lastTimerValue=t.currentTimerValue,t.currentMistakesCount=0}},state:{lastMistakesCount:0,currentMistakesCount:0,currentTimer:0,lastTimerValue:0,currentTimerValue:0},getters:{getCurrentTimerValue:t=>t.currentTimerValue,getLastTimerValue:t=>t.lastTimerValue,getCurrentMistakesCount:t=>t.currentMistakesCount,getLastMistakesCount:t=>t.lastMistakesCount}};const gt=(0,f.MT)({modules:{keyboard:st,text:ht,indicators:mt}});var yt=gt;const ft=(0,r.ri)(nt);ft.use(yt),ft.mount("#app")}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,r,n,s){if(!r){var i=1/0;for(u=0;u<t.length;u++){r=t[u][0],n=t[u][1],s=t[u][2];for(var o=!0,l=0;l<r.length;l++)(!1&s||i>=s)&&Object.keys(a.O).every((function(t){return a.O[t](r[l])}))?r.splice(l--,1):(o=!1,s<i&&(i=s));if(o){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[r,n,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,s,i=r[0],o=r[1],l=r[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(l)var u=l(a)}for(e&&e(r);c<i.length;c++)s=i[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},r=self["webpackChunkblind_printing"]=self["webpackChunkblind_printing"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(7213)}));r=a.O(r)})();
//# sourceMappingURL=app.d3344056.js.map